{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "id": "./RIDP-Response-schema.json",
    "title": "Remote Identity Proofing (RIDP) (RJ139) - Response Schema",
    "description": "The RIDP service allows for identity proofing an Applicant seeking to register with the Marketplace.",
    "type": "object",
    "$comment": "Define root as ridpResponse",
    "required": ["ridpResponse"],
    "additionalProperties": false,
    "properties": {
        "ridpResponse": {
            "type": "object",
            "required": ["responseMetadata"],
            "additionalProperties": false,
            "properties": {
                "sessionIdentification": {
                    "description": "Session ID used to tie subsequent submissions to the initial inquiry.",
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 70,
                    "pattern": "^([a-zA-Z0-9# \\- / \\.]{1,70})$"
                },
                "verificationQuestionArray": {
                    "type": "array",
                    "minItems": 3,
                    "maxItems": 5,
                    "items": {"$ref": "#/definitions/verificationQuestionArrayType"}
                },
                "finalDecisionCode": {
                    "description": "Enumerated values for Verification Decision Codes: ACC - Accept; RF1 - Prompt to Experian Call Center; RF2 - Back to CMS to prompt user for additional information OR recheck of data inputted; RF3 - Use Limit Violation / Prompt to Experian Call Center; RF4 - Back to CMS / HARD FAIL / Do NOT Prompt to Experian Call Center.",
                    "type": "string",
                    "enum": [
                        "ACC",
                        "RF1",
                        "RF2",
                        "RF3",
                        "RF4"
                    ]
                },
                "hubReferenceNumber": {
                    "description": "A unique number generated by the Hub to identify a Remote Identity proofing request.",
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 90
                },
                "responseMetadata": {"$ref": "#/definitions/responseMetadataType"}
            }
        }
    },
    "definitions": {
        "verificationQuestionArrayType": {
            "description": "Container for the sets of verification questions and answers.",
            "type": "object",
            "required": ["verificationQuestionSet"],
            "additionalProperties": false,
            "properties": {
                "verificationQuestionSet": {
                    "description": "Container for the QuestionText and AnswerChoice array.",
                    "type": "object",
                    "required": [
                        "verificationQuestionText",
                        "verificationAnswerChoiceArray"
                    ],
                    "additionalProperties": false,
                    "properties": {
                        "verificationQuestionText": {
                            "description": "The question in text form.",
                            "type": "string"
                        },
                        "verificationAnswerChoiceArray": {
                            "type": "array",
                            "minItems": 1,
                            "maxItems": 5,
                            "items": {"$ref": "#/definitions/verificationAnswerChoiceArrayType"}
                        }
                    }
                }
            }
        },
        "verificationAnswerChoiceArrayType": {
            "description": "An array of answers.",
            "type": "object",
            "required": ["verificationAnswerChoiceText"],
            "additionalProperties": false,
            "properties": {
                "verificationAnswerChoiceText": {
                    "description": "The answer in text form.",
                    "type": "string"
                }
            }
        },
        "responseMetadataType": {
            "description": "A set of details about a response (successful or not)",
            "type": "object",
            "required": [
                "responseCode",
                "responseText"
            ],
            "additionalProperties": false,
            "properties": {
                "responseCode": {
                    "description": "A coded response; expecting HE/HS/HX followed by 6 digits but not enforced beyond 8 characters.",
                    "type": "string",
                    "minLength": 8,
                    "maxLength": 8
                },
                "responseText": {
                    "description": "A description of a response",
                    "type": "string"
                },
                "tdsResponseText": {
                    "description": "A description of a response from a data source designated as trusted (a trusted data source or TDS) by the Centers for Medicare and Medicaid Services.",
                    "type": "string"
                }
            }
        }
    }
}